System.register(["./IswjOdMh-legacy.js"],(function(t,e){"use strict";var s,i;return{setters:[t=>{s=t.e2,i=t.bL}],execute:function(){!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.hmac=t.HMAC=void 0;const e=s,h=i;class o extends h.Hash{constructor(t,s){super(),this.finished=!1,this.destroyed=!1,(0,e.hash)(t);const i=(0,h.toBytes)(s);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,n=new Uint8Array(o);n.set(i.length>o?t.create().update(i).digest():i);for(let e=0;e<n.length;e++)n[e]^=54;this.iHash.update(n),this.oHash=t.create();for(let e=0;e<n.length;e++)n[e]^=106;this.oHash.update(n),n.fill(0)}update(t){return(0,e.exists)(this),this.iHash.update(t),this}digestInto(t){(0,e.exists)(this),(0,e.bytes)(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:s,finished:i,destroyed:h,blockLen:o,outputLen:n}=this;return t.finished=i,t.destroyed=h,t.blockLen=o,t.outputLen=n,t.oHash=e._cloneInto(t.oHash),t.iHash=s._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}t.HMAC=o,t.hmac=(t,e,s)=>new o(t,e).update(s).digest(),t.hmac.create=(t,e)=>new o(t,e)}(t("h",{}))}}}));
