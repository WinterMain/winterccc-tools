import{ak as w,a6 as x,aO as C,bf as H,s as b,o as y,a as m,A as d,a9 as B,a8 as k,c as v,w as E,b as h,B as p,t as A,e as _,aK as M}from"./CGqMbvwJ.js";import{u as N}from"./BN-IElrq.js";const L={class:"c-common-left-menu"},V={__name:"LeftMenu",setup(a){const{menus:l}=N(),e=w(),{category:i}=x(e),c=C();H();const t=(s,n)=>{e.setCategory(s.name)};return b(()=>c.hash,s=>{e.setCategory(s.replace("#","").toLowerCase())}),y(()=>{}),(s,n)=>{const r=M;return m(),d("div",L,[(m(!0),d(B,null,k(_(l),(o,u)=>(m(),v(r,{key:u,class:p(["menu-item",{active:_(i)===o.name}]),to:"/#"+o.name,onClick:f=>t(o)},{default:E(()=>[h("i",{class:p(["iconfont",o.icon])},null,2),h("p",null,A(o.title),1)]),_:2},1032,["to","class","onClick"]))),128))])}}};function W(a){const l=()=>{if(!a)return;const e=a.value||a;if(!e||!e.getElementsByClassName)return;const i=e.getElementsByClassName("left-content")[0],c=e.getElementsByClassName("right-content")[0],t=i.getElementsByClassName("fixed-area")[0],s=80;if(t&&t.clientHeight&&t.clientWidth>0)if(c.offsetHeight-50>t.offsetHeight){const n=i.getBoundingClientRect(),r=t.getBoundingClientRect(),o=n.top,u=t.clientHeight+o;if(o<0&&u<window.innerHeight){const f=r.width;t.setAttribute("fixed",!0),t.style.width=f+"px";const g=()=>Math.min(n.bottom,window.innerHeight)-s>r.height?(t.style.bottom="auto",t.style.top=s+"px",!0):!1;n.bottom<window.innerHeight?g()||(t.style.top="auto",t.style.bottom=window.innerHeight-n.bottom+"px"):g()||(t.style.top="auto",t.style.bottom="10px")}else t.removeAttribute("fixed")}else c.offsetHeight-50<=t.offsetHeight&&t.removeAttribute("fixed")};y(()=>{document.addEventListener("scroll",l)})}export{V as _,W as u};
